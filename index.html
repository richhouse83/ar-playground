<!DOCTYPE html>

<html>
	<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
	<!-- we import arjs version without NFT but with marker + location based support -->
	<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	<script src="https://rawgit.com/blairmacintyre/aframe-look-at-billboard-component/master/dist/aframe-look-at-billboard-component.min.js"></script>

	<meta name="apple-mobile-web-app-capable" content="yes" />

	<script>
		window.onload = function () {
			let playing = false;
			const will = document.querySelector("#will");
			const button = document.querySelector(".play-button");
			button.addEventListener("click", function () {
				if (playing) {
					will.pause();
					playing = false;
				} else {
					will.play();
					playing = true;
				}
			});
		};
	</script>
	<style>
		.buttons {
			position: absolute;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 5em;
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 10;
		}

		.say-hi-button {
			padding: 0.25em;
			border-radius: 4px;
			border: none;
			background: white;
			color: black;
			width: 4em;
			height: 2em;
		}
	</style>

	<body style="margin: 0px; overflow: hidden">
		<div class="buttons">
			<button class="play-button">Play video</button>
		</div>
		<a-scene embedded arjs>
			<a-assets>
				<video
					id="will"
					autoplay
					loop="true"
					preload="auto"
					src="willvid.mp4"
					playsinline
				></video>
			</a-assets>
			<a-marker preset="hiro">
				<a-box
					rotation="0 0 0"
					scale="1 1 1"
					position="3 2 -10"
					color="red"
					animation__mouseenter="property: scale; to: 2.3 2.3 2.3; dur: 300; startEvents: mouseenter"
					animation__mouseleave="property: scale; to: 1 1 1; dur: 300; startEvents: mouseleave"
					animation="property: object3D.rotation.y;
                        to: 360;
                        dur: 5000;
                        loop: true;
                        easing: linear;"
				>
					<a-sphere color="blue" position="1 0 0">
						<a-sphere
							color="white"
							position="-0.3 0.5 -0.8"
							scale="0.1 0.1 0.1"
						></a-sphere>
						<a-sphere
							color="white"
							position="-0.5 0.5 0.7"
							scale="0.1 0.1 0.1"
						></a-sphere>
						<a-sphere
							color="black"
							position="0 1 0"
							scale="0.5 0.5 0.5"
						></a-sphere> </a-sphere
				></a-box>
				<a-video
					src="#will"
					width="3"
					height="2"
					look-at="src: #player"
					position="0 1 0"
					rotation="180 180 180"
					opacity="0.9"
				></a-video>
			</a-marker>
			<a-entity id="player" camera></a-entity>
		</a-scene>
	</body>
</html>
